const FARM={name:"farm",health:75,height:1,length:1,width:1},YURT={name:"yurt",health:75,height:1,length:1,width:1},STABLES={name:"stables",health:75,height:2,length:2,width:2,resources:{food:50,gold:10}};class Building{constructor(e,t,i,s){this.owner=e,this.name=t.name,this.health=t.health,this.width=t.width,this.height=t.height,this.length=t.length,this.resources=t.resources,this.coord=i,this.coords=this.calculateCoords(),this.unitPriorities=s,this.destroyed=!1}calculateCoords(){let e=[];for(let t=this.coord[0];t<this.coord[0]+this.length;t++)for(let i=this.coord[1];i<this.coord[1]+this.height;i++)e.push([t,i]);return e}produce(e,t){let i;"player"===this.owner&&(i=new Unit("player",e,t),controller.player.units.push(i)),"computer"===this.owner&&(i=new Unit("computer",e,t,{type:"aggressive"}),controller.computer.units.push(i)),controller.view.drawUnit(i,"computer")}calculateNearestFreeSpot(e,t){for(let i=e[0]-t;i<e[0]+t;i++)for(let s=e[1]-t;s<e[1]+t;s++){let r=[i,s];if(controller.updateTakenSpots(),!controller.takenSpotIncludes(r))return r}}destroySelf(){if("player"===this.owner){for(let[e,t]of controller.player.buildings.entries())if(t===this&&!1===this.destroyed){controller.player.buildings.splice(e,1),controller.view.eraseBuilding(this,this.owner),this.destroyed=!0;return}}if("computer"===this.owner){for(let[i,s]of controller.computer.buildings.entries())if(s===this&&!1===this.destroyed){controller.computer.buildings.splice(i,1),controller.view.eraseBuilding(this,this.owner),this.destroyed=!0;return}}}}